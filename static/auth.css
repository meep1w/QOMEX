/* ======================== RESET / BASE ======================== */
* { box-sizing: border-box; margin: 0; padding: 0; }
html, body { height: 100%; }
body {
    font-family: 'Segoe UI', sans-serif;
    background: #000;
    color: #000;
    overflow-x: hidden;
    position: relative;
}

/* ======================== STARRY BACKGROUND ======================== */
canvas#stars {
    position: fixed;
    inset: 0;
    width: 100vw;
    height: 100vh;
    pointer-events: none;
    z-index: 0;
}

/* ======================== HEADER (grid: left/center/right) ======================== */
.header {
    position: fixed;
    top: 0; left: 0;
    width: 100%;
    height: 80px;
    z-index: 1000;
    background: transparent;
}

.header-container {
    height: 80px;
    max-width: 1300px;
    margin: 0 auto;
    padding: 0 20px;

    display: grid;
    grid-template-columns: 1fr auto 1fr; /* left / center / right */
    align-items: center;
    column-gap: 16px;
}

.logo-link { justify-self: start; }
.logo { width: 160px; height: auto; display: block; }

/* Center nav */
.nav {
    justify-self: center;
    display: flex;
    gap: 30px;
    white-space: nowrap;
}
.nav a {
    color: #ccc;
    text-decoration: none;
    font-weight: 500;
    transition: color .2s ease;
}
.nav a:hover { color: #fff; }

/* Right: profile + languages */
.header-right {
    justify-self: end;
    display: flex;
    align-items: center;
    gap: 20px;
}
.contact-btn {
    display: inline-flex;
    align-items: center;
    gap: 10px;
    height: 40px;
    padding: 0 16px;
    border: 1px solid #444;
    border-radius: 50px;
    color: #ccc;
    text-decoration: none;
    line-height: 1;
    transition: border-color .2s ease, background .2s ease;
}
.contact-btn img { width: 22px; height: 22px; display: block; }
.contact-btn:hover { border-color: #777; background: rgba(255,255,255,0.04); }

.language-icons {
    display: flex;
    align-items: center;
    gap: 16px;
}
.lang-icon {
    width: 18px; height: 18px;
    opacity: .4;
    cursor: pointer;
    transition: opacity .2s ease;
}
.lang-icon.active { opacity: 1; }

/* ======================== BURGER (3 lines) ======================== */
.burger {
    display: none;                        /* show on mobile */
    appearance: none;
    background: transparent !important;
    border: 0 !important;
    padding: 0 !important;
    margin: 0;
    width: 28px; height: 22px;
    border-radius: 0 !important;
    box-shadow: none !important;
    outline: none;
    cursor: pointer;
    z-index: 1001;

    grid-column: 1;                       /* left column */
    justify-self: start;

    display: flex;
    flex-direction: column;
    justify-content: space-between;
}
.burger span {
    display: block;
    width: 100%; height: 2px;
    background: #fff;
    border-radius: 1px;
    transition: transform .25s ease, opacity .25s ease;
}

/* ======================== MOBILE MENU ======================== */
.mobile-overlay {
    display: none;
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,.6);
    backdrop-filter: blur(6px);
    z-index: 1000;
}
.mobile-overlay.active { display: flex; justify-content: flex-start; }

.mobile-menu {
    background: #1b1b1e;
    width: 70%;
    max-width: 320px;
    padding: 80px 20px;
    box-shadow: 4px 0 12px rgba(0,0,0,.5);
    transform: translateX(-100%);
    animation: slideIn .3s forwards;
    border-right: 1px solid rgba(255,255,255,.06);
    border-top-right-radius: 12px;
    border-bottom-right-radius: 12px;
}
@keyframes slideIn { to { transform: translateX(0); } }

.mobile-nav { display: flex; flex-direction: column; gap: 22px; }
.mobile-nav a { color: #fff; font-size: 18px; text-decoration: none; }

/* ======================== PAGE CONTENT ======================== */
.container {
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    position: relative;
    padding: 20px;
    gap: 10px;
    z-index: 1;
}

.header-text {
    margin-top: 120px;         /* отступ ниже фикс. хедера */
    text-align: center;
    color: #fff;
    margin-bottom: 10px;
    user-select: none;
}
.header-text h1 { font-size: 2.2rem; margin-bottom: 8px; }
.header-text p  { font-size: 1.1rem; color: #ccc; }

/* ======================== FORM ======================== */
.form-wrapper {
    background: rgba(255,255,255,0.9);
    padding: 40px;
    border-radius: 20px;
    max-width: 400px;
    width: 100%;
    box-shadow: 0 0 40px rgba(255,255,255,0.1);
    text-align: left;
}
.form-wrapper h2 {
    text-align: center;
    margin-bottom: 25px;
    font-size: 26px;
    color: #111;
}

label {
    display: block;
    margin-bottom: 6px;
    font-size: 15px;
    color: #333;
}

input[type="text"],
input[type="email"],
input[type="password"] {
    width: 100%;
    padding: 14px;
    border: 1.5px solid #ccc;
    border-radius: 10px;
    margin-bottom: 16px;
    font-size: 16px;
    transition: .3s;
}
input:focus { border-color: #8e2de2; outline: none; }

/* Кнопки — только внутри форм (бургер не трогаем) */
.form-wrapper button,
#password-reset-form button {
    width: 100%;
    padding: 15px;
    border: none;
    border-radius: 40px;
    font-weight: bold;
    color: #fff;
    background: linear-gradient(90deg, #8e2de2, #4a00e0);
    font-size: 17px;
    cursor: pointer;
    box-shadow: 0 4px 14px rgba(142,45,226,0.3);
    transition: .3s ease;
}
.form-wrapper button:hover,
#password-reset-form button:hover { opacity: .9; }

.options {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin: 10px 0 20px;
    font-size: 14px;
    flex-wrap: wrap;
    gap: 10px;
}
.remember-label { display: flex; align-items: center; gap: 6px; color: #555; }
.options a { color: #3366cc; text-decoration: none; }
.options a:hover { text-decoration: underline; }

.footer-links {
    display: flex;
    justify-content: space-between;
    font-size: 13px;
    margin-top: 20px;
    color: #333;
    flex-wrap: wrap;
    gap: 10px;
}
.footer-links a { color: #4a00e0; text-decoration: none; font-weight: 500; }
.footer-links a:hover { text-decoration: underline; }

/* ======================== POPUP ======================== */
.popup-overlay {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,.4);
    backdrop-filter: blur(5px);
    display: none; /* показывай через JS */
    justify-content: center;
    align-items: center;
    z-index: 10000;
    padding: 20px;
}
.popup-content {
    background: #fff;
    border-radius: 20px;
    max-width: 380px;
    width: 100%;
    padding: 30px 30px 25px;
    box-shadow: 0 10px 40px rgba(110,54,255,.3);
    position: relative;
}
.close-btn {
    position: absolute;
    top: 15px; right: 15px;
    width: 32px; height: 32px;
    border: none; background: #eee; border-radius: 50%;
    font-size: 24px; cursor: pointer; font-weight: 700;
    display: flex; align-items: center; justify-content: center;
}
.close-btn:hover { background: #6e36ff; color: #fff; }

/* ======================== MEDIA ======================== */
@media (max-width: 768px) {
    .header { height: 60px; }
    .header-container {
        height: 60px;
        padding: 0 12px;
        grid-template-columns: 28px 1fr auto; /* burger — logo — languages */
    }

    .burger { display: flex; }
    .logo-link { grid-column: 2; justify-self: center; } /* лого по центру */
    .nav { display: none !important; }

    /* скрываем кнопку профиля в шапке — она в бургер-меню */
    .desktop-only,
    .contact-btn.desktop-only { display: none !important; }

    .language-icons { justify-self: end; gap: 8px; }

    .header-text { margin-top: 100px; }
    .form-wrapper { padding: 28px 20px; }
    .form-wrapper h2 { font-size: 22px; }
    input, .form-wrapper button { font-size: 15px; }
}

@media (max-width: 480px) {
    .header-text { display: none; }
    .form-wrapper { max-width: 90%; border-radius: 14px; }
}

/* по умолчанию — бургер скрыт (ПК) */
.burger {
    display: none;
}

/* ... остальной код бургера ... */

/* только на мобилке включаем */
@media (max-width: 768px) {
    .burger { display: flex; }
}

@media (min-width: 1025px) {
    .form-wrapper {
        margin-bottom: 250px; /* уменьшает пустоту */
    }
}

/* === HEADER (layout как на index) === */

/* сетка: logo | nav | btn | langs на десктопе */
.header .container.header-inner,
.header-inner {
    display: grid !important;
    grid-template-columns: auto 1fr auto auto;
    align-items: center;
    column-gap: 24px;
    height: 80px;
}

.burger-btn { display: none; }

.logo-link      { grid-column: 1; justify-self: start; }
.nav            { grid-column: 2; justify-self: center; display: flex; gap: 28px; white-space: nowrap; }
.header-right   { grid-column: 3; justify-self: end; }
.language-icons { grid-column: 4; justify-self: end; }

.nav a { color:#ccc; transition:color .2s; }
.nav a:hover { color:#fff; }

/* мобильный вид: бургер | лого | языки */
@media (max-width: 768px) {
    .header { height: 60px; }
    .header .container.header-inner,
    .header-inner {
        grid-template-columns: 28px 1fr auto;
        height: 60px; padding: 0 12px;
    }

    .burger-btn { display: block; }
    .logo-link { grid-column: 2; justify-self: center; }
    .language-icons { grid-column: 3; justify-self: end; gap:10px; }

    .nav, .header-right { display: none !important; } /* на мобилке в меню */
}

/* красивое мобильное меню + деликатные разделители */
.mobile-menu{
    position:fixed; top:0; left:-74%;
    width:74%; max-width:340px; height:100%;
    background:#111;
    padding:78px 20px 24px;
    display:flex; flex-direction:column; gap:10px;
    border-right:1px solid rgba(255,255,255,.06);
    border-top-right-radius:14px; border-bottom-right-radius:14px;
    box-shadow:6px 0 24px rgba(0,0,0,.45);
    z-index:2200; transition:left .3s ease;
    background: linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,0) 60%), #111;
}
.mobile-menu.show{ left:0; }

.close-btn{
    position:absolute; top:16px; right:16px;
    width:32px; height:32px; border-radius:8px;
    display:flex; align-items:center; justify-content:center;
    font-size:22px; line-height:1; color:#fff; cursor:pointer;
    background:rgba(255,255,255,.06);
    border:1px solid rgba(255,255,255,.08);
    transition:background .2s ease, transform .1s ease;
}
.close-btn:hover{ background:rgba(255,255,255,.1); }
.close-btn:active{ transform:scale(.96); }

.mobile-menu .mobile-nav a{
    color:#fff; text-decoration:none; font-size:18px; font-weight:500;
    padding:14px 10px; border-radius:10px; position:relative;
    transition:background .2s ease, transform .08s ease;
}
.mobile-menu .mobile-nav a::after{
    content:""; position:absolute; left:0; right:0; bottom:0;
    height:1px; background:linear-gradient(90deg, transparent, rgba(255,255,255,.08), transparent);
}
.mobile-menu .mobile-nav a:last-child::after{ display:none; }
.mobile-menu .mobile-nav a:hover{ background:rgba(255,255,255,.06); }
.mobile-menu .mobile-nav a:active{ transform:translateY(1px); }

/* CTA-кнопка профиля/регистрации внутри меню */
.mobile-menu .menu-cta{
    display:block !important;
    color:#fff;
    padding:14px 10px;
    border:1px solid rgba(255,255,255,.12);
    border-radius:10px;
    margin:6px 0 12px;
    text-decoration:none;
}

/* бургер 3 полоски -> крестик */
.burger-btn{
    appearance:none;border:0;background:transparent;cursor:pointer;
    width:28px;height:22px;position:relative;z-index:2100;padding:0;margin:0;
}
.burger-btn span{
    position:absolute;left:0;width:100%;height:2px;border-radius:1px;
    background:#fff;transition:transform .25s ease, top .25s ease, opacity .2s ease;
}
.burger-btn span:nth-child(1){ top:0; }
.burger-btn span:nth-child(2){ top:10px; }
.burger-btn span:nth-child(3){ top:20px; }
.burger-btn.active span:nth-child(1){ top:10px; transform:rotate(45deg); }
.burger-btn.active span:nth-child(2){ opacity:0; }
.burger-btn.active span:nth-child(3){ top:10px; transform:rotate(-45deg); }

/* полупрозрачный фон (создаётся скриптом) */
.menu-backdrop{
    position:fixed; inset:0; background:rgba(0,0,0,.5);
    opacity:0; pointer-events:none; transition:opacity .25s ease;
    z-index:1500;
}
.menu-backdrop.show{ opacity:1; pointer-events:auto; }

/* ВАЖНО: на auth у тебя фон чёрный, поэтому шапка видна; margin у header-text рассчитан на fixed-хедер. Оставляем fixed. */

/* Фикс: контейнер внутри хедера НЕ должен наследовать min-height и flex */
.header .container,
.header-inner {
    min-height: 0 !important;    /* сбиваем 100vh */
    height: 80px;                 /* высота хедера на десктопе */
    display: grid !important;     /* наш грид для хедера */
    align-items: center;
    justify-content: normal;
    padding: 0 20px;
}

@media (max-width: 768px) {
    .header .container,
    .header-inner {
        height: 60px;               /* высота на мобилке */
        padding: 0 12px;
    }
}
